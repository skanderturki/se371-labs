{% include 'header' %}

    <div id="formContainer">
      {% if error %}
        <p class="error">{{ error }}</p>
      {% endif %}
      <form action="/books/v1/" method="get">
        <label for="titleInput">Search by title:</label>
        <input type="text" id="titleInput" name="title" placeholder="Enter part of the book's title" />
        <div>
          <input type="submit" value="Search">
        </div>
      </form>
    </div>
    <div>
      <table id="books_table">
        <thead>
          <tr><th>Code</th><th>Title</th><th>Author</th></tr>
        </thead>
        <tbody>
          {% if books and books.length > 0 %}
            {% assign booktype = typeof book %}
            {% for book in books %}
              <script>console.log(`{{booktype}}`)</script>
              <tr>
                  <td>{{ book.code }}</td>
                  <td>{{ book.title }}</td>
                  <td>{{ book.author }}</td>
              </tr>
            {% endfor %}
          {% else %}
            <tr><td colspan="3">No data to display</td></tr>
          {% endif %}
        </tbody>
      </table>
    </div>
  </body>
</html>
